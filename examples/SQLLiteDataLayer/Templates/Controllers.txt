package pgucontrollers

import (
	Request "github.com/eshu0/RESTServer/pkg/request"
	hndlr "github.com/eshu0/Pangu/examples/Autogen/Todos/Handlers"
	models "github.com/eshu0/Pangu/examples/Autogen/Todos/Models"
)

// Controller

type {{.StorageControllerName}} struct {
	{{.StorageHandlerName}} *hndlr.{{.StorageHandlerName}} // Storage handler
}

func New{{.StorageControllerName}}(handler *hndlr.{{.StorageHandlerName}}) *{{.StorageControllerName}} {
	ds := {{.StorageControllerName}}{}
	ds.{{.StorageHandlerName}} = handler
	return &ds
}


func (controller *{{.StorageControllerName}}) HandleCreateRequest(request Request.ServerRequest) models.{{.StructDetails.Name}} {
	result := controller.{{.StorageHandlerName}}.Create(request.Payload)
	fmt.Println("----")
	fmt.Println("Result")
	fmt.Println("----")
	fmt.Println(result)
	return result
}


